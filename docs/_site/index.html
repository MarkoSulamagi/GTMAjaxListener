<!DOCTYPE html>
<html lang="en-US">
<head>
  <meta charset='utf-8'>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-5SVV8TT');</script>
  <!-- End Google Tag Manager -->
  

  <link rel="stylesheet" href="/assets/css/style.css?v=8c65ec6248c98e57eddd76b0fb4dc6f2e26ec882">
  <link rel="stylesheet" type="text/css" href="/assets/css/print.css" media="print">
  <!--[if lt IE 9]>
  <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

  <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>AJAX Listener for Google Tag Manager | Push AJAX events to data layer</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="AJAX Listener for Google Tag Manager" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Push AJAX events to data layer" />
<meta property="og:description" content="Push AJAX events to data layer" />
<link rel="canonical" href="http://localhost:4000/" />
<meta property="og:url" content="http://localhost:4000/" />
<meta property="og:site_name" content="AJAX Listener for Google Tag Manager" />
<script type="application/ld+json">
{"headline":"AJAX Listener for Google Tag Manager","@type":"WebSite","url":"http://localhost:4000/","name":"AJAX Listener for Google Tag Manager","description":"Push AJAX events to data layer","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  <script src=" /assets/js/script.js?v=8c65ec6248c98e57eddd76b0fb4dc6f2e26ec882" defer></script>

</head>

<body>


<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5SVV8TT"
                  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->


<div id="container">
  <div class="inner">

    <header>
      <h1>AJAX Listener<br> for Google Tag Manager</h1>
      <h2>Push AJAX events to data layer</h2>
    </header>

    <section class="clearfix">
      <a href="/downloads/gtm-import-ajax-listener-marxdev.json"
         id="ic-tag-manager" class="button" download>
        <span>Download GTM container</span>
      </a>
      <a href="https://raw.githubusercontent.com/MarkoSulamagi/gtm-ajax-listener/master/ajax-listener.html" target="_blank" class="secondary-cta">
        <span>or copy the ajax listener tag</span>
      </a>
    </section>

    <hr>

    <section id="main_content">
      <h1 id="intro">Intro</h1>

<p>A GTM tag that pushes data from AJAX forms into data layer.</p>

<p>This is an upgraded version of a widely used Lunametrics AJAX listener. Lunametrics‚Äô version of the script has been 
working very well over the years, but with the rise of the 
<a href="[https://www.quora.com/What-is-a-single-page-application-in-web-development]">Single Page applications</a> (SPAs) 
the script oftentimes doesn‚Äôt work. It is usually caused by missing jQuery library that Lunametrics‚Äô script depends on.</p>

<p>This script works without any dependencies and should work for all websites.</p>

<p><a href="#why-doesnt-lunametrics-script-work">More info in FAQ</a></p>

<h1 id="get-started">Get Started</h1>

<h2 id="how-to-configure-new-gtm-account">How to configure new GTM account</h2>

<p>There are 2 options you can use to integrate the script.</p>

<h4 id="option-1-import-tags-and-variables-using-our-container-script-suggested">Option 1: Import tags and variables using our container script (suggested).</h4>

<p>Importing a container script is the quickest way to get started. It will automatically create a custom HTML tag with 
all the required variables into your GTM account for you to use.</p>

<ol>
  <li><a href="/downloads/gtm-import-ajax-listener-marxdev.json" download="">Download container file</a></li>
  <li>Open your account in Google Tag Manager and navigate to <strong>Admin -&gt; Import Container</strong>.</li>
  <li><strong>Choose the downloaded file</strong> and select <strong>Existing workspace</strong>.</li>
  <li>‚ö†Ô∏è Set <strong>Choose an import option</strong> to <strong>Merge</strong> with <strong>Overwrite conflicting tags, triggers and variables</strong>.<br />
<em>Merging containers will make sure your existing tags, triggers and variables will stay in place and you won‚Äôt lose 
any of your previous configuration.</em></li>
  <li>See that you have <strong>1 new tag</strong> and <strong>13 new variables</strong>.</li>
  <li>Confirm the import and see the custom HTML tag and variables in your workspace.</li>
</ol>

<p><a href="https://www.bounteous.com/insights/2015/08/26/how-import-container-google-tag-manager/" class="muted" target="_blank">üîó View more detailed import guide</a></p>

<p><strong>Next learn <a href="#how-to-use-ajax-listener">how to use AJAX listener</a>.</strong></p>

<h4 id="option-2-configure-a-custom-html-tag-and-variables-manually">Option 2: Configure a custom HTML tag and variables manually.</h4>

<p>More advanced users can set up the tag and variables themselves without using the pre-built script.</p>

<ol>
  <li><a href="https://raw.githubusercontent.com/MarkoSulamagi/gtm-ajax-listener/master/ajax-listener.html" target="_blank">
Copy the script</a></li>
  <li>Create a <strong>custom HTML tag</strong>, name it ‚ÄúAJAX Listener‚Äù. Paste the script to HTML input field and set the tag to 
trigger on <strong>All Pages</strong></li>
  <li>Use the 
<a href="https://www.analyticsmania.com/google-tag-manager-ajax-form-tracking" target="_blank">Analytics Mania</a> tutorial
to set up custom variables.</li>
</ol>

<h2 id="how-to-switch-from-lunametrics-ajax-listener">How to switch from Lunametrics AJAX listener</h2>

<p>Differences between Lunametrics listener and this script are minimal and switching them 
shouldn‚Äôt take more then a minute.</p>

<p>All GTM variables that were working with Lunametrics keep working as is and there‚Äôs no need to change any of them. 
<strong>The only thing you need to do is replace the custom HTML tag with 
<a href="https://raw.githubusercontent.com/MarkoSulamagi/gtm-ajax-listener/master/ajax-listener.html" target="_blank">
this script</a></strong>. Once this is done then everything should work as it did before.</p>

<hr />

<h2 id="faq">FAQ</h2>

<h4 id="why-doesnt-lunametrics-script-work">Why doesn‚Äôt Lunametrics script work?</h4>

<p>Lunametrics depends on a javascript library called <a href="https://jquery.com/" target="_blank">jQuery</a>. 
This means that if your website developers haven‚Äôt included jQuery in the website code then Lunametrics 
ajax listener script will not work.</p>

<p>This problem is more common with 
<a href="https://www.quora.com/What-is-a-single-page-application-in-web-development" target="_blank">Single Page applications</a>.</p>

<p>The easiest way to find out if your website has jquery enabled is to ask the developers. 
Another option is to use a <a href="https://www.quora.com/How-do-you-know-where-jQuery-is-used-in-a-website" target="_blank">browser console</a></p>

<p>This script is dependency free and should work regardless of what technology the website is built 
with.</p>

<h4 id="how-to-use-ajax-listener">How to use AJAX Listener</h4>

<p>The tag is modified from a frequently used Lunametrics script. Everything that works with Lunametrics tag 
will keep working the same way.</p>

<p>Once the script is configured in GTM then use the following tutorials on how to use it:</p>

<ul>
  <li><a href="https://www.analyticsmania.com/google-tag-manager-ajax-form-tracking" target="_blank">
Beginners guide to AJAX Listener - Analytics Mania</a>.<br />
<em>You can skip the part that describes how to create custom HTML tag on GTM with Lunametrics script</em></li>
  <li><a href="https://medium.com/@marko.sulamagi/how-to-add-lunametrics-ajax-listener-to-single-page-apps-3daf8db3b52f" target="_blank">
How to add ajax listener script to Single-Page Apps</a></li>
  <li><a href="https://www.analyticsmania.com/post/google-tag-manager-form-tracking/" target="_blank">
More detailed guide to using ajax listener</a></li>
</ul>

<hr />

<h4 id="leave-a-comment-if-you-have-any-questions-or-feedback">Leave a comment if you have any questions or feedback</h4>


      
      <div id="disqus_thread" style="margin-top: 15px;"></div>
      <script>
        var disqus_config = function () {
        this.page.url = 'https://gtm.marxdev.com';
        this.page.identifier = 1;
        };
        (function() { // DON'T EDIT BELOW THIS LINE
          var d = document, s = d.createElement('script');
          s.src = 'https://https-gtm-marxdev-com.disqus.com/embed.js';
          s.setAttribute('data-timestamp', +new Date());
          (d.head || d.body).appendChild(s);
        })();
      </script>
      <noscript>Please enable JavaScript to view the comments.</noscript>
      
    </section>

    <div class="about-trigger">
      <span class="title">by Marko Sulam√§gi</span>
    </div>

    <section class="about-container hidden">
      <div class="close"></div>

      <div class="content">
        <div class="author-img">
          <img src="/assets/images/marko_sulamagi.jpg" alt="Marko Sulam√§gi">
        </div>

        <h4>My name is Marko</h4>


        <p>I've been a software developer for 9 years. For the past years I've enjoyed being a helpful partner
          of marketers.</p>

        <div class="social">
          <a href="https://www.linkedin.com/in/markosulamagi/" target="_blank">
            <img alt="LinkedIn Logo" width="24" height="24"
                 src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 382 382'%3E%3Cpath d='M347.445 0h-312.9C15.47 0 0 15.47 0 34.555v312.89C0 366.53 15.47 382 34.555 382h312.89C366.53 382 382 366.53 382 347.444V34.555C382 15.47 366.53 0 347.445 0zM118.207 329.844a10.06 10.06 0 0 1-10.056 10.056H65.345a10.06 10.06 0 0 1-10.056-10.056v-179.44a10.06 10.06 0 0 1 10.056-10.056h42.806a10.06 10.06 0 0 1 10.056 10.056v179.44zm-31.46-206.412c-22.46 0-40.666-18.207-40.666-40.666S64.29 42.1 86.748 42.1s40.666 18.207 40.666 40.666-18.206 40.666-40.666 40.666zM341.9 330.654a9.25 9.25 0 0 1-9.246 9.246H286.73a9.25 9.25 0 0 1-9.246-9.246v-84.168c0-12.556 3.683-55.02-32.813-55.02-28.31 0-34.05 29.066-35.204 42.1v97.08a9.25 9.25 0 0 1-9.246 9.246h-44.426a9.25 9.25 0 0 1-9.246-9.246v-181.06a9.25 9.25 0 0 1 9.246-9.246h44.426a9.25 9.25 0 0 1 9.246 9.246v15.655c10.497-15.753 26.097-27.912 59.312-27.912 73.552 0 73.13 68.716 73.13 106.472v86.846z' fill='%230077b7'/%3E%3C/svg%3E">
          </a>
          <a href="https://medium.com/@marko.sulamagi/" target="_blank">
            <img alt="Medium Logo" width="24" height="24"
                 src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='195' height='195' fill-rule='nonzero'%3E%3Cpath fill='%2312100e' d='M0 0h195v195H0z'/%3E%3Cpath d='M46.534 65.216c.163-1.608-.45-3.198-1.65-4.28L32.65 46.2V44h37.98l29.356 64.38L125.795 44H162v2.2l-10.458 10.027c-.902.687-1.35 1.817-1.162 2.935v73.674c-.187 1.118.26 2.247 1.162 2.935l10.213 10.027v2.2h-51.373v-2.2l10.58-10.272c1.04-1.04 1.04-1.345 1.04-2.935v-59.55l-29.417 74.714H88.61L54.362 73.042v50.074a6.91 6.91 0 0 0 1.896 5.747l13.76 16.69v2.2H31v-2.2l13.76-16.69c1.47-1.525 2.13-3.66 1.774-5.747v-57.9z' fill='%23fff'/%3E%3C/svg%3E">
          </a>
        </div>
      </div>
    </section>

    <footer>
      
      AJAX Listener for Google Tag Manager is maintained by <a href="https://github.com/MarkoSulamagi">MarkoSulamagi</a><br>
      Based on <a href="https://www.bounteous.com/insights/2015/08/27/ajax-event-listener-google-tag-manager/?ns=l"
         target="_blank">Lunametrics ajax listener</a>
      
    </footer>

  </div>
</div>
</body>
</html>
